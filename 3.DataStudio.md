## Iniciando relatório

### Adição de dados sem SQL
Vamos começar nosso projeto criando um novo relatório em "Criar" OU em "Relatório em Branco":
![Data Studio](/Imagens/DS1.png)

Agora vamos selecionar nossa tabela no banco de dados do BigQuery. Para esse projeto vamos utilizar a base **"covid_geotab_mobility_impact"** e a tabela **"city_congestion"**:
![Data Studio](/Imagens/DS2.png)
Após selecionado clique em adicionar na parte inferior da tela.

A partir disso podemos usar as dimensões e métricas para fazer nosso relatório.

### Adição de dados com SQL
Caso seja necessário filtrar os dados antes de envialos ao Data Studio, para assim termos um melhor desempenho, podemos utilizar o Big Query junto com a linguagem SQL.

Vamos no Big Query executar a seguinte consulta na nossa base de dados:
```SQL
SELECT 
    round(avg(percent_congestion), 1) as media_congestionamento,
    city_name as cidade
FROM `bigquery-public-data.covid19_geotab_mobility_impact.city_congestion`
where date(date_time) between "2021-03-01" and "2021-03-31"
group by cidade
order by media_congestionamento desc
```

Como resultado temos a média de congestionamento por cidade ordenados do maior para o menor:
![Data Studio](/Imagens/DS3.png)

Feito isso vamos para o Data Studio no menu **Recurso → Gerenciar fontes de dados → Adicionar uma fonte de dados → Big Query → Consulta personalizada**. Selecione seu projeto e cole o script utilizado anteriormente e adicione os dados.

![Data Studio](/Imagens/DS4.png)
![Data Studio](/Imagens/DS5.png)
![Data Studio](/Imagens/DS6.png)
![Data Studio](/Imagens/DS7.png)

Para editar o nome de sua consulta basta ir em **Recurso → Gerenciar fontes de dados** e em editar alterar o nome da consulta.

